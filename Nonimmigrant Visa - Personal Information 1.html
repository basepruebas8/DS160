<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nonimmigrant Visa - Personal Information 1</title>
  
  <style>
    :root{
      color-scheme: light dark;
      --bg: #f6f7fb;
      --bg-grad: radial-gradient(1200px 600px at 10% -10%, #dfe7ff55, transparent 60%),
                 radial-gradient(800px 400px at 110% 10%, #ffe6d655, transparent 60%);
      --card: #ffffff;
      --text: #0f172a;
      --muted: #475569;
      --border: #e2e8f0;
      --border-strong: #cbd5f5;
      --accent: #2563eb;
      --accent-600: #1d4ed8;
      --accent-700: #1e40af;
      --danger: #ef4444;
      --ring: #bfdbfe;
      --shadow: 0 18px 45px rgba(15,23,42,.16);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: var(--text);
      background: var(--bg);
      background-image: var(--bg-grad);
    }

    .wrap { max-width: 960px; margin: 32px auto; padding: 0 16px; }
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 24px;
      box-shadow: var(--shadow);
      backdrop-filter: saturate(120%) blur(4px);
    }

    header h1 { font-size: 1.35rem; margin: 0 0 6px; letter-spacing: -.01em; }
    .subtle { color: var(--muted); font-size: .95rem; margin-bottom: 18px; }

    fieldset {
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 18px;
      margin: 16px 0;
      background: linear-gradient(180deg, rgba(148,163,184,.06), transparent 60%);
    }
    legend { font-weight: 700; padding: 0 10px; font-size: .98rem; }
    legend::after{
      content: ""; display: inline-block; width: 8px; height: 8px; margin-left: 8px; border-radius: 999px;
      background: var(--accent); box-shadow: 0 0 0 4px color-mix(in oklab, var(--accent) 20%, transparent);
    }

    label { display: inline-block; margin: 8px 0 6px; font-weight: 600; }
    .row { display: grid; grid-template-columns: 1fr; gap: 10px; margin-bottom: 12px; }
    .grid-2 { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:12px; }
    .inline { display: flex; gap: 12px; align-items: center; flex-wrap: wrap; }

    input[type="text"],
    input[type="date"],
    input[type="number"],
    input[type="tel"],
    input[type="email"],
    textarea,
    select {
      width: 100%;
      max-width: 560px;
      padding: 10px 12px;
      border: 1px solid var(--border);
      border-radius: 12px;
      background: var(--card);
      color: var(--text);
      outline: none;
      transition: border-color .15s ease, box-shadow .15s ease, transform .06s ease;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.05);
      font: inherit;
      resize: vertical;
    }

    textarea { min-height: 80px; }

    input[type="text"]:focus,
    input[type="date"]:focus,
    input[type="number"]:focus,
    input[type="tel"]:focus,
    input[type="email"]:focus,
    textarea:focus,
    select:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px color-mix(in oklab, var(--ring) 45%, transparent);
    }

    .help { font-size: .9rem; color: var(--muted); margin-top: 2px; }
    .note { font-size:.92rem; color:var(--muted); }

    .actions {
      margin-top: 18px;
      display: flex;
      gap: 12px;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      border-top: 1px dashed var(--border);
      padding-top: 16px;
    }
    .actions-left,
    .actions-right {
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }

    button {
      padding: 10px 16px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: var(--card);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      transition: transform .06s ease, box-shadow .15s ease, background .2s ease, border-color .15s ease;
    }
    button.primary {
      background: linear-gradient(180deg, var(--accent), var(--accent-600));
      color: white;
      border-color: transparent;
      box-shadow: 0 6px 16px rgba(37,99,235,.35);
    }
    button.primary:hover {
      background: linear-gradient(180deg, var(--accent-600), var(--accent-700));
      transform: translateY(-0.5px);
    }
    button.secondary {
      background: #f8fafc;
    }
    button.secondary:hover {
      background: #e2e8f0;
    }

    .tag {
      font-size:.8rem;
      padding:2px 8px;
      border-radius:999px;
      border:1px solid var(--border);
      color:var(--muted);
      background:rgba(148,163,184,.08);
    }

    [hidden] { display:none !important; }

    table { width: 100%; border-collapse: collapse; }
    td { padding: 4px 4px; vertical-align: top; }

    @media (max-width: 720px){
      .grid-2 { grid-template-columns: minmax(0,1fr); }
      .actions { flex-direction: column; align-items: stretch; }
      .actions-left, .actions-right { justify-content: space-between; }
      button { width: 100%; justify-content: center; }
      table { font-size: .9rem; }
    }
  </style>

</head>
<body>

  <div class="wrap">
    <div class="card">
      
      <header>
        <h1>Solicitud de Visa de No Inmigrante en línea (DS-160)</h1>
        <div class="subtle">Sección: <strong>Help:</strong></div>
      </header>
    
      <form id="ds160-help" action="#" method="post" novalidate>
        <table border="0" cellspacing="0" id="ctl00_SiteContentPlaceHolder_FormView1" style="border-collapse:collapse;">
<tr>
<td colspan="2">
<table border="0" cellpadding="0" cellspacing="0" style="text-align: center; width: 550px">
<tr>
<td style="text-align: left">
<h2>
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=true; tip='Información personal 1'; delayToolTip(event,tip,widetip,0,0);return false">
<span id="ctl00_SiteContentPlaceHolder_FormView1_PersonalInfoLabel" style="width: auto">Personal Information 1</span></span>
</h2>
</td>
<td style="text-align: right; width: auto">
<br/>
<div class="burden">
<table>
<tr>
<td style="white-space:nowrap;">
<span class="tooltip_text" onmousemove="widetip=false; tip='NUMERO DE CONTROL OMB'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblOMBControlNo">OMB CONTROL NUMBER:</span></span></td>
<td style="white-space:nowrap;">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblOMBControlNoValue">1405-0182</span></td>
</tr>
<tr>
<td style="white-space:nowrap;">
<span class="tooltip_text" onmousemove="widetip=false; tip='NUMERO DEL FORMULARIO:'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblFormNo">FORM NUMBER:</span></span></td>
<td style="white-space:nowrap;">
<span class="tooltip_text" onmousemove="widetip=false; tip='DS-160'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblFormNoValue">DS-160</span></span>
</td>
</tr>
<tr>
<td style="white-space:nowrap;">
<span class="tooltip_text" onmousemove="widetip=false; tip='Fecha de expiración:'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblExpireDate">EXPIRATION DATE:</span></span></td>
<td style="white-space:nowrap;">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblExpireDateValue">09/30/2023</span>
</td>
</tr>
<tr>
<td style="white-space:nowrap;">
<span class="tooltip_text" onmousemove="widetip=false; tip='Carga estimada:'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblEstBurden">ESTIMATED BURDEN:</span></span></td>
<td style="white-space:nowrap;">
<span class="tooltip_text" onmousemove="widetip=false; tip='90 minutos'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblEstBurdenValue">90 MIN</span></span></td>
</tr>
</table>
</div>
</td>
</tr>
</table>
<br/>
<br/>
<div class="error-message" id="ctl00_SiteContentPlaceHolder_FormView1_ValidationSummary" style="color:Red;background-color:White;display:none;">
</div>
<div class="note">
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=true; tip='Nota: Los datos registrados en esta página deberán coincidir con los que aparecen en su pasaporte.'; delayToolTip(event,tip,widetip,0,0);return false">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblPageNote1">NOTE: Data on this page must match the information as it is written in your passport.</span></span>
</div>
<div class="fieldset-group">
<fieldset>
<div class="field-groups">
<div class="field full">
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=false; tip='Apellidos'; delayToolTip(event,tip,widetip,0,0);return false">
<label for="ctl00_SiteContentPlaceHolder_FormView1_tbxAPP_SURNAME" id="ctl00_SiteContentPlaceHolder_FormView1_lblAPP_SURNAME">Surnames</label></span>

<span id="ctl00_SiteContentPlaceHolder_FormView1_customValSurname" style="color:Red;visibility:hidden;"><img alt="Error" src="../../_res/img/trg_bk.GIF"/></span>
<span id="ctl00_SiteContentPlaceHolder_FormView1_csvAddlAliases" style="color:Red;visibility:hidden;"><img alt="" height="0" src="../../_res/img/trg_bk.GIF" width="0"/> </span>
<br/>
<input id="ctl00_SiteContentPlaceHolder_FormView1_tbxAPP_SURNAME" maxlength="33" name="ctl00$SiteContentPlaceHolder$FormView1$tbxAPP_SURNAME" onchange="javascript:setDirty();" style="width: 95%" tabindex="100" type="text"/>
<div class="hint">
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=false; tip='(Por ejemplo:FERNANDEZ GARCIA)'; delayToolTip(event,tip,widetip,0,0);return false">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lbl_APP_SURNAME_EXAMPLE">(e.g., FERNANDEZ GARCIA)</span></span>
</div>
</div>
<div class="field full" style="margin-top: 40px">
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=false; tip='Nombres de pila'; delayToolTip(event,tip,widetip,0,0);return false">
<label for="ctl00_SiteContentPlaceHolder_FormView1_tbxAPP_GIVEN_NAME" id="ctl00_SiteContentPlaceHolder_FormView1_lblAPP_GIVEN_NAME">Given Names</label></span>
<span id="ctl00_SiteContentPlaceHolder_FormView1_CustomValGivenname" style="color:Red;visibility:hidden;"><img alt="Error" src="../../_res/img/trg_bk.GIF"/></span>
<br/>
<input id="ctl00_SiteContentPlaceHolder_FormView1_tbxAPP_GIVEN_NAME" maxlength="33" name="ctl00$SiteContentPlaceHolder$FormView1$tbxAPP_GIVEN_NAME" onchange="javascript:setDirty();" style="width: 95%" tabindex="110" type="text"/><br/>
<div class="hint">
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=false; tip='(por ejemplo: Juan Miguel)'; delayToolTip(event,tip,widetip,0,0);return false">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblAPP_GIVEN_NAME_EXAMPLE">(e.g., JUAN MIGUEL)</span></span>
</div>
</div>
<div class="field full">
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=false; tip='Nombre completo en su alfabeto nativo'; delayToolTip(event,tip,widetip,0,0);return false">
<label for="ctl00_SiteContentPlaceHolder_FormView1_tbxAPP_FULL_NAME_NATIVE" id="ctl00_SiteContentPlaceHolder_FormView1_lblAPP_FULL_NAME_NATIVE">Full Name in Native Alphabet</label></span>
<span id="ctl00_SiteContentPlaceHolder_FormView1_CustomValFULLNAME_NATIVE" style="color:Red;visibility:hidden;"><img alt="Error" src="../../_res/img/trg_bk.GIF"/></span>
<input id="ctl00_SiteContentPlaceHolder_FormView1_tbxAPP_FULL_NAME_NATIVE" maxlength="100" name="ctl00$SiteContentPlaceHolder$FormView1$tbxAPP_FULL_NAME_NATIVE" onchange="javascript:setDirty();" style="background-color:White;width: 95%" tabindex="120" type="text"/>
<div class="field full" style="text-align: right">
<input id="ctl00_SiteContentPlaceHolder_FormView1_tbxAPP_FULL_NAME_NATIVE_NA" name="ctl00$SiteContentPlaceHolder$FormView1$tbxAPP_FULL_NAME_NATIVE_NA" type="hidden"/>
<span class="RadioCheck"><span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=false; tip='No aplica/Tecnología no disponible'; delayToolTip(event,tip,widetip,0,0);return false">
<input id="ctl00_SiteContentPlaceHolder_FormView1_cbexAPP_FULL_NAME_NATIVE_NA" name="ctl00$SiteContentPlaceHolder$FormView1$cbexAPP_FULL_NAME_NATIVE_NA" onclick="javascript:setDirty(); return enableTbx('ctl00_SiteContentPlaceHolder_FormView1_tbxAPP_FULL_NAME_NATIVE','ctl00_SiteContentPlaceHolder_FormView1_tbxAPP_FULL_NAME_NATIVE_NA');" tabindex="130" type="checkbox"/><label for="ctl00_SiteContentPlaceHolder_FormView1_cbexAPP_FULL_NAME_NATIVE_NA">Does Not Apply/Technology Not Available</label></span>
</span>
</div>
</div>
</div>
<div class="help" style="margin-top: -7px">
<h4>
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=false; tip='Ayuda:'; delayToolTip(event,tip,widetip,0,0);return false">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblHelp" style="color:#891300;">Help:</span></span>
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=false; tip='Apellidos'; delayToolTip(event,tip,widetip,0,0);return false">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblHelp1">Surnames</span></span></h4>
<p>
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=true; tip='Inserte sus apellidos tal y como aparecen registrados en su pasaporte. Si sólo aparece uno, entonces escríbalo.'; delayToolTip(event,tip,widetip,0,0);return false">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblHelp2">Enter all surnames as listed in your passport. If only one name is listed in your
                                    passport, enter that Surname.</span></span>
</p>
</div>
<div class="help" style="margin-top: 0px">
<h4>
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=false; tip='Ayuda:'; delayToolTip(event,tip,widetip,0,0);return false">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblHelp3" style="color:#891300;">Help:</span></span>
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=false; tip='Nombres de pila'; delayToolTip(event,tip,widetip,0,0);return false">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblHelp4">Given Names</span></span></h4>
<p>
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=true; tip='Si su pasaporte no incluye un nombre de pila, anotar \'FNU\' en ese espacio.'; delayToolTip(event,tip,widetip,0,0);return false">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblHelp5">If your passport does not include a given name, please enter 'FNU' in Given Names.</span></span>
</p>
</div>
</fieldset>
<div class="hr">
</div>
<div id="ctl00_SiteContentPlaceHolder_FormView1_UpdatePanel1">
<fieldset>
<div class="field-groups">
<div class="field-group">
<div class="q">
<span class="tooltip_text" onmousemove="widetip=true; tip='¿Ha utilizado otros nombres (por ejemplo: appellidos de soltera, religiosos, profesionales, alias, etc.)?'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<label for="ctl00_SiteContentPlaceHolder_FormView1_rblOtherNames" id="ctl00_SiteContentPlaceHolder_FormView1_lblOtherNamesUsed" tabindex="200">Have you ever used other names (i.e., maiden, religious, professional, alias, etc.)?</label></span><span id="ctl00_SiteContentPlaceHolder_FormView1_CustomValOtehrNamesQuestion" style="color:Red;visibility:hidden;"><img alt="Error" src="../../_res/img/trg_bk.GIF"/></span>
</div>
<div class="a">
<div class="field-group radio">
<div class="field full">
<span class="RadioCheck"><span class="tooltip_text" onmousemove="widetip=false; tip='Sí o No'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<table border="0" id="ctl00_SiteContentPlaceHolder_FormView1_rblOtherNames" onfocus="return ValidNavigation();">
<tr>
<td><span tooltip="Sí"><input id="ctl00_SiteContentPlaceHolder_FormView1_rblOtherNames_0" name="ctl00$SiteContentPlaceHolder$FormView1$rblOtherNames" onclick="javascript:setDirty();setTimeout('__doPostBack(\'ctl00$SiteContentPlaceHolder$FormView1$rblOtherNames$0\',\'\')', 0)" tabindex="205" type="radio" value="Y"/><label for="ctl00_SiteContentPlaceHolder_FormView1_rblOtherNames_0">Yes</label></span></td><td><input id="ctl00_SiteContentPlaceHolder_FormView1_rblOtherNames_1" name="ctl00$SiteContentPlaceHolder$FormView1$rblOtherNames" onclick="javascript:setDirty();setTimeout('__doPostBack(\'ctl00$SiteContentPlaceHolder$FormView1$rblOtherNames$1\',\'\')', 0)" tabindex="205" type="radio" value="N"/><label for="ctl00_SiteContentPlaceHolder_FormView1_rblOtherNames_1">No</label></td>
</tr>
</table></span> </span>
</div>
</div>
</div>
</div>
</div>
<div class="help" id="ctl00_SiteContentPlaceHolder_FormView1_divOtherNamesHelp" style="margin-top: 0px">
<h4>
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=false; tip='Ayuda:'; delayToolTip(event,tip,widetip,0,0);return false">
<span id="ctl00_SiteContentPlaceHolder_FormView1_Label1" style="color:#891300;">Help:</span></span>
<span><span class="tooltip_text" onmousemove="widetip=false; tip='Otros nombres de pila'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblHelp16">Other Names</span></span>
</span>
</h4>
<p>
<span class="tooltip_text" onmousemove="widetip=true; tip='Otros nombres usados incluyen los apellidos de soltera, los religiosos, los profesionales o cualquier otro nombre por el que se le conoce o conoció en algún momento.'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblHelp17">Other names used include your maiden name, religious name, professional name, or any other names which you are known by or have been known by in the past.</span></span>
</p>
</div>
</fieldset>
<fieldset>
<div class="field-groups">
<div class="field-group">
</div>
</div>
</fieldset>
</div>
<div id="ctl00_SiteContentPlaceHolder_FormView1_UpdatePanel2">
<fieldset>
<div class="field-groups">
<div class="field-group">
<div class="q">
<span class="tooltip_text" onmousemove="widetip=true; tip='¿Cuenta usted con una clave telecode que represente su nombre?'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<label for="ctl00_SiteContentPlaceHolder_FormView1_rblTelecodeQuestion" id="ctl00_SiteContentPlaceHolder_FormView1_lblTelecodeQuestion" tabindex="500">Do you have a telecode that represents your name?</label></span><span id="ctl00_SiteContentPlaceHolder_FormView1_CustomValTelecodeQuestion" style="color:Red;visibility:hidden;"><img alt="Error" src="../../_res/img/trg_bk.GIF"/></span>
</div>
<div class="a">
<div class="field-group radio">
<div class="field full">
<span class="RadioCheck">
<span class="tooltip_text" onmousemove="widetip=false; tip='Sí o No'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<table border="0" id="ctl00_SiteContentPlaceHolder_FormView1_rblTelecodeQuestion" onfocus="return ValidNavigation();">
<tr>
<td><span tooltip="Sí"><input id="ctl00_SiteContentPlaceHolder_FormView1_rblTelecodeQuestion_0" name="ctl00$SiteContentPlaceHolder$FormView1$rblTelecodeQuestion" onclick="javascript:setDirty();setTimeout('__doPostBack(\'ctl00$SiteContentPlaceHolder$FormView1$rblTelecodeQuestion$0\',\'\')', 0)" tabindex="510" type="radio" value="Y"/><label for="ctl00_SiteContentPlaceHolder_FormView1_rblTelecodeQuestion_0">Yes</label></span></td><td><input id="ctl00_SiteContentPlaceHolder_FormView1_rblTelecodeQuestion_1" name="ctl00$SiteContentPlaceHolder$FormView1$rblTelecodeQuestion" onclick="javascript:setDirty();setTimeout('__doPostBack(\'ctl00$SiteContentPlaceHolder$FormView1$rblTelecodeQuestion$1\',\'\')', 0)" tabindex="510" type="radio" value="N"/><label for="ctl00_SiteContentPlaceHolder_FormView1_rblTelecodeQuestion_1">No</label></td>
</tr>
</table>
</span>
</span>
</div>
</div>
</div>
</div>
</div>
<div class="help" id="ctl00_SiteContentPlaceHolder_FormView1_telecodeHelpDiv" style="margin-top: 0px">
<h4>
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=false; tip='Ayuda:'; delayToolTip(event,tip,widetip,0,0);return false">
<span id="ctl00_SiteContentPlaceHolder_FormView1_Label6" style="color:#891300;">Help:</span></span>
<span><span class="tooltip_text" onmousemove="widetip=false; tip='Telecode'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_Label7">Telecode</span></span>
</span>
</h4>
<p>
<span class="tooltip_text" onmousemove="widetip=true; tip='Los \'Telecodes\' son números de 4 dígitos que representan letras/símbolos en algunos nombres de alfabetos no romanos.'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_Label8">Telecodes are 4 digit code numbers that represent characters in some non-Roman alphabet names.</span></span>
</p>
</div>
</fieldset>
<fieldset>
<div class="field-groups">
<div class="field-group">
</div>
</div>
</fieldset>
</div>
<div class="hr">
</div>
<fieldset>
<div class="field-groups">
<div class="field full">
<span class="tooltip_text" onmousemove="widetip=false; tip='Sexo'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<label for="ctl00_SiteContentPlaceHolder_FormView1_ddlAPP_GENDER" id="ctl00_SiteContentPlaceHolder_FormView1_lblAPP_GENDER">Sex</label></span>
<span id="ctl00_SiteContentPlaceHolder_FormView1_CustomValidatorSex" style="color:Red;visibility:hidden;"><img alt="Error" src="../../_res/img/trg_bk.GIF"/></span>
<br/>
<div class="field-group dropdownlist">
<span class="DropDownCheck">
<span class="tooltip_text" onmousemove="widetip=false; tip='Masculino o Femenino'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<select id="ctl00_SiteContentPlaceHolder_FormView1_ddlAPP_GENDER" name="ctl00$SiteContentPlaceHolder$FormView1$ddlAPP_GENDER" onchange="javascript:setDirty();" tabindex="600">
<option selected="selected" value="">- Select One -</option>
<option value="M">MALE</option>
<option value="F">FEMALE</option>
</select>
</span>
</span>
</div>
</div>
<div class="field full">
<div id="ctl00_SiteContentPlaceHolder_FormView1_UpdatePanel3">
<span class="tooltip_text" onmousemove="widetip=false; tip='Estado civil'; delayToolTip(event,tip,widetip,0,-10);return false" onmouseout="hideToolTip()">
<label for="ctl00_SiteContentPlaceHolder_FormView1_ddlAPP_MARITAL_STATUS" id="ctl00_SiteContentPlaceHolder_FormView1_lblAPP_MARITAL_STATUS">Marital Status</label>
</span>
<input alt="Click here for more information" id="ctl00_SiteContentPlaceHolder_FormView1_HelpButton1" name="ctl00$SiteContentPlaceHolder$FormView1$HelpButton1" onclick="window.open('/GenNIV/Help/Help.aspx#MaritalStatus','Help','height=760,width=778,toolbar=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=no,modal=yes,help=no');return false;WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(&quot;ctl00$SiteContentPlaceHolder$FormView1$HelpButton1&quot;, &quot;&quot;, true, &quot;&quot;, &quot;&quot;, false, false))" src="../../_res/img/infopop.bmp" style="height:15px;width:15px;border-width:0px;" tabindex="610" type="image"/>
<span id="ctl00_SiteContentPlaceHolder_FormView1_CustomValidatorMarital" style="color:Red;visibility:hidden;"><img alt="Error" src="../../_res/img/trg_bk.GIF"/></span>
<select id="ctl00_SiteContentPlaceHolder_FormView1_ddlAPP_MARITAL_STATUS" name="ctl00$SiteContentPlaceHolder$FormView1$ddlAPP_MARITAL_STATUS" onchange="javascript:setDirty();setTimeout('__doPostBack(\'ctl00$SiteContentPlaceHolder$FormView1$ddlAPP_MARITAL_STATUS\',\'\')', 0)" onfocus="return ValidNavigation();" tabindex="615">
<option selected="selected" value="">-Select One-</option>
<option value="M">MARRIED</option>
<option value="C">COMMON LAW MARRIAGE</option>
<option value="P">CIVIL UNION/DOMESTIC PARTNERSHIP</option>
<option value="S">SINGLE</option>
<option value="W">WIDOWED</option>
<option value="D">DIVORCED</option>
<option value="L">LEGALLY SEPARATED</option>
<option value="O">OTHER</option>
</select>
</div>
</div>
</div>
<div class="help" style="margin-top: -7px">
<h4>
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=false; tip='Ayuda:'; delayToolTip(event,tip,widetip,0,0);return false">
<span id="ctl00_SiteContentPlaceHolder_FormView1_Label11" style="color:#891300;">Help:</span></span>
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=false; tip=''; delayToolTip(event,tip,widetip,0,0);return false">
<span id="ctl00_SiteContentPlaceHolder_FormView1_Label12">Sex</span></span></h4>
<p>
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=true; tip=''; delayToolTip(event,tip,widetip,0,0);return false">
<span id="ctl00_SiteContentPlaceHolder_FormView1_Label13">Please select MALE or FEMALE</span></span>
</p>
</div>
</fieldset>
<div class="hr">
</div>
<fieldset>
<div class="field-groups">
<h4>
<span class="tooltip_text" onmousemove="widetip=false; tip='Fecha y lugar de nacimiento'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblDatePlaceOfBirth">Date and Place of Birth</span></span>
</h4>
<div class="field-group callout">
<span class="tooltip_text" onmousemove="widetip=false; tip='Fecha'; delayToolTip(event,tip,widetip,0,-10);return false" onmouseout="hideToolTip()">
<label for="ctl00_SiteContentPlaceHolder_FormView1_tbxAPP_DOB" id="ctl00_SiteContentPlaceHolder_FormView1_lblAPP_DOB">Date</label></span>
<input alt="Click here for more information" id="ctl00_SiteContentPlaceHolder_FormView1_HelpButton2" name="ctl00$SiteContentPlaceHolder$FormView1$HelpButton2" onclick="window.open('/GenNIV/Help/Help.aspx#Month','Help','height=760,width=778,toolbar=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=no,modal=yes,help=no');return false;WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(&quot;ctl00$SiteContentPlaceHolder$FormView1$HelpButton2&quot;, &quot;&quot;, true, &quot;&quot;, &quot;&quot;, false, false))" src="../../_res/img/infopop.bmp" style="height:15px;width:15px;border-width:0px;" tabindex="720" type="image"/>
<span id="ctl00_SiteContentPlaceHolder_FormView1_customValDOB" style="color:Red;visibility:hidden;"><img alt="Error" src="../../_res/img/trg_bk.GIF"/></span>
<div class="field full">
<div class="date">
<select id="ctl00_SiteContentPlaceHolder_FormView1_ddlDOBDay" name="ctl00$SiteContentPlaceHolder$FormView1$ddlDOBDay" onchange="javascript:setDirty();" style="width:45px;" tabindex="730">
<option selected="selected" value="  "></option>
<option value="01">01</option>
<option value="02">02</option>
<option value="03">03</option>
<option value="04">04</option>
<option value="05">05</option>
<option value="06">06</option>
<option value="07">07</option>
<option value="08">08</option>
<option value="09">09</option>
<option value="10">10</option>
<option value="11">11</option>
<option value="12">12</option>
<option value="13">13</option>
<option value="14">14</option>
<option value="15">15</option>
<option value="16">16</option>
<option value="17">17</option>
<option value="18">18</option>
<option value="19">19</option>
<option value="20">20</option>
<option value="21">21</option>
<option value="22">22</option>
<option value="23">23</option>
<option value="24">24</option>
<option value="25">25</option>
<option value="26">26</option>
<option value="27">27</option>
<option value="28">28</option>
<option value="29">29</option>
<option value="30">30</option>
<option value="31">31</option>
</select>
<select id="ctl00_SiteContentPlaceHolder_FormView1_ddlDOBMonth" name="ctl00$SiteContentPlaceHolder$FormView1$ddlDOBMonth" onchange="javascript:setDirty();" style="width:55px;" tabindex="740">
<option selected="selected" value="   "></option>
<option value="JAN">ENE</option>
<option value="FEB">FEB</option>
<option value="MAR">MAR</option>
<option value="APR">APR</option>
<option value="MAY">MAY</option>
<option value="JUN">JUN</option>
<option value="JUL">JUL</option>
<option value="AUG">AGO</option>
<option value="SEP">SEP</option>
<option value="OCT">OCT</option>
<option value="NOV">NOV</option>
<option value="DEC">DIC</option>
</select>
<input id="ctl00_SiteContentPlaceHolder_FormView1_tbxDOBYear" maxlength="4" name="ctl00$SiteContentPlaceHolder$FormView1$tbxDOBYear" onchange="javascript:setDirty();" style="width:35px;" tabindex="750" type="text"/>
<div class="hint">
<span class="tooltip_text" onmousemove="widetip=false; tip='(Formato:DD-MMM-AAAA)'; delayToolTip(event,tip,widetip,0,10);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblDateFormat">(Format: DD-MMM-YYYY)</span></span>
</div>
</div>
<br/>
<div class="field full">
<span class="tooltip_text" onmousemove="widetip=false; tip='Ciudad'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<label for="ctl00_SiteContentPlaceHolder_FormView1_tbxAPP_POB_CITY" id="ctl00_SiteContentPlaceHolder_FormView1_lblAPP_POB_CITY">City</label></span>
<span id="ctl00_SiteContentPlaceHolder_FormView1_CustomValidator1POBCity" style="color:Red;visibility:hidden;"><img alt="Error" src="../../_res/img/trg_bk.GIF"/></span>
<input id="ctl00_SiteContentPlaceHolder_FormView1_tbxAPP_POB_CITY" maxlength="20" name="ctl00$SiteContentPlaceHolder$FormView1$tbxAPP_POB_CITY" onchange="javascript:setDirty();" style="width: 99%" tabindex="755" type="text"/>
</div>
<div class="field full" style="padding-bottom: 0px">
<span class="tooltip_text" onmousemove="widetip=false; tip='Estado/Provincia'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<label for="ctl00_SiteContentPlaceHolder_FormView1_tbxAPP_POB_ST_PROVINCE" id="ctl00_SiteContentPlaceHolder_FormView1_lblAPP_POB_ST_PROVINCE">State/Province</label></span>
<span id="ctl00_SiteContentPlaceHolder_FormView1_cvrPOBStateProv" style="color:Red;visibility:hidden;"><img alt="Error" src="../../_res/img/trg_bk.GIF"/></span>
<input id="ctl00_SiteContentPlaceHolder_FormView1_tbxAPP_POB_ST_PROVINCE" maxlength="20" name="ctl00$SiteContentPlaceHolder$FormView1$tbxAPP_POB_ST_PROVINCE" onchange="javascript:setDirty();" style="background-color:White;width: 99%" tabindex="760" type="text"/>
<div class="field full" style="text-align: right; padding-bottom: 0px;">
<input id="ctl00_SiteContentPlaceHolder_FormView1_tbxAPP_POB_ST_PROVINCE_NA" name="ctl00$SiteContentPlaceHolder$FormView1$tbxAPP_POB_ST_PROVINCE_NA" type="hidden"/>
<span class="RadioCheck">
<span class="tooltip_text" onmousemove="widetip=false; tip='No aplica'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<input id="ctl00_SiteContentPlaceHolder_FormView1_cbexAPP_POB_ST_PROVINCE_NA" name="ctl00$SiteContentPlaceHolder$FormView1$cbexAPP_POB_ST_PROVINCE_NA" onclick="javascript:setDirty(); return enableTbx('ctl00_SiteContentPlaceHolder_FormView1_tbxAPP_POB_ST_PROVINCE','ctl00_SiteContentPlaceHolder_FormView1_tbxAPP_POB_ST_PROVINCE_NA');" tabindex="770" type="checkbox"/><label for="ctl00_SiteContentPlaceHolder_FormView1_cbexAPP_POB_ST_PROVINCE_NA">Does Not Apply</label>
</span>
</span>
</div>
</div>
<span class="tooltip_text" onmousemove="widetip=false; tip='País/Región'; delayToolTip(event,tip,widetip,0,-10);return false" onmouseout="hideToolTip()">
<label for="ctl00_SiteContentPlaceHolder_FormView1_ddlAPP_POB_CNTRY" id="ctl00_SiteContentPlaceHolder_FormView1_lblAPP_POB_CNTRY">Country/Region</label></span>
<span id="ctl00_SiteContentPlaceHolder_FormView1_CustomValidatorPOB" style="color:Red;visibility:hidden;"><img alt="Error" src="../../_res/img/trg_bk.GIF"/></span>
<select id="ctl00_SiteContentPlaceHolder_FormView1_ddlAPP_POB_CNTRY" name="ctl00$SiteContentPlaceHolder$FormView1$ddlAPP_POB_CNTRY" onchange="javascript:setDirty();" style="width: 98%" tabindex="780">
<option selected="selected" value="">- Select One -</option>

<option value="CAN">CANADA</option>
<option value="AGS">MEXICO - AGUASCALIENTES</option>
<option value="BC">MEXICO - BAJA CALIFORNIA NORTE</option>
<option value="BCSR">MEXICO - BAJA CALIFORNIA SUR</option>
<option value="CAMP">MEXICO - CAMPECHE</option>
<option value="CHIS">MEXICO - CHIAPAS</option>
<option value="CHIH">MEXICO - CHIHUAHUA</option>
<option value="COAH">MEXICO - COAHUILA</option>
<option value="COLI">MEXICO - COLIMA</option>
<option value="DF">MEXICO - DISTRITO FEDERAL</option>
<option value="DGO">MEXICO - DURANGO</option>
<option value="GTO">MEXICO - GUANAJUATO</option>
<option value="GRO">MEXICO - GUERRERO</option>
<option value="HGO">MEXICO - HIDALGO</option>
<option value="JAL">MEXICO - JALISCO</option>
<option value="MCH">MEXICO - MICHOACAN</option>
<option value="MOR">MEXICO - MORELOS</option>
<option value="NAY">MEXICO - NAYARIT</option>
<option value="NL">MEXICO - NUEVO LEON</option>
<option value="OAX">MEXICO - OAXACA</option>
<option value="PUE">MEXICO - PUEBLA</option>
<option value="QRO">MEXICO - QUERETARO</option>
<option value="QROO">MEXICO - QUINTANA ROO</option>
<option value="SLP">MEXICO - SAN LUIS POTOSI</option>
<option value="SIN">MEXICO - SINALOA</option>
<option value="SON">MEXICO - SONORA</option>
<option value="MXCO">MEXICO - STATE OF MEXICO</option>
<option value="TAB">MEXICO - TABASCO</option>
<option value="TAMP">MEXICO - TAMAULIPAS</option>
<option value="TLAX">MEXICO - TLAXCALA</option>
<option value="VER">MEXICO - VERACRUZ</option>
<option value="YUC">MEXICO - YUCATAN</option>
<option value="ZAC">MEXICO - ZACATECAS</option>
<option value="USA">UNITED STATES OF AMERICA</option>
</select>
</div>
</div>
</div>
<div class="help" style="margin-top: 20px">
<h4>
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=false; tip='Ayuda:'; delayToolTip(event,tip,widetip,0,0);return false">
<span id="ctl00_SiteContentPlaceHolder_FormView1_Label4" style="color:#891300;">Help:</span></span>
<span><span class="tooltip_text" onmousemove="widetip=false; tip='Fecha de nacimiento'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblHelp7">Date of Birth</span></span></span></h4>
<p>
<span class="tooltip_text" onmousemove="widetip=true; tip='Si desconoce el día y el mes, entonces anótelos tal y como aparecen en su pasaporte.'; delayToolTip(event,tip,widetip,60,0);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblHelp8">If day or month is unknown, enter as shown in passport.</span></span>
</p>
</div>
<div class="help" style="margin-top: 90px">
<h4>
<span class="tooltip_text" onmouseout="hideToolTip()" onmouseover="widetip=false; tip='Ayuda:'; delayToolTip(event,tip,widetip,50,0);return false">
<span id="ctl00_SiteContentPlaceHolder_FormView1_Label5" style="color:#891300;">Help:</span></span>
<span><span class="tooltip_text" onmousemove="widetip=false; tip='País/Región'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblHelp10">Country/Region</span></span></span></h4>
<p>
<span class="tooltip_text" onmousemove="widetip=true; tip='Seleccione el nombre que se utiliza en la actualidad para indicar el lugar donde nació.'; delayToolTip(event,tip,widetip,60,0);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblHelp11">Select the name that is currently in use for the place where you were born.</span></span>
</p>
</div>
</fieldset>
<div class="hr">
</div>
<div style="font-size: 10px">
<span class="tooltip_text" onmousemove="widetip=true; tip='La carga del reporte público de esta recopilación de información promedia 90 minutos por respuesta, incluyendo el tiempo que uno se toma en la busqueda de los recursos de datos existentes; en la preparación de la documentación necesaria; al proveer dicha información y/o documentos requeridos y en la revisión final de todo lo recopilado. No es necesario proporcionar esta información al menos que contenga un número de control OMB. Si tiene comentarios sobre la precisión de esta carga estimada y/o recomendaciones para poder reducirla, sírvase enviarlos a: U.S. Department of State, A/ISS/DIR, 1800 G St. NW, Washington, DC 20520'; delayToolTip(event,tip,widetip,0,140);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblPublicBurdenNotice">Public reporting burden for this collection of information is estimated to average 90 minutes per response, including time required for searching existing data sources, gathering the necessary documentation, providing the information and/or documents required, and reviewing the final collection.  You do not have to supply this information unless this collection displays a currently valid OMB control number.  If you have comments on the accuracy of this burden estimate and/or recommendations for reducing it, please send them to:</span>
</span>
<b>
<span class="tooltip_text" onmousemove="widetip=true; tip='A/ISS/DIR,Room 2400 SA-22,U.S. Department of State, Washington, DC 20522-22-2'; delayToolTip(event,tip,widetip,0,0);return false" onmouseout="hideToolTip()">
<a href="mailto:PRA_BurdenComments@state.gov" tabindex="800">PRA_BurdenComments@state.gov</a>
</span>
</b>
<br/><br/>
<span class="tooltip_text" onmousemove="widetip=true; tip='Sección 222(f)del Acuerdo Nacional de Inmigración(INA)proveé que los registros del Departamento de Estado y de las oficinas diplomáticas y consulares de los Estados Unidos de Norteamérica en relación a la emisión y rechazo de visas o permisos para ingresar a territorio norteamericano, deberán considerarse confidenciales y usados única y exclusivamente para la formulación, enmiendas, administración o para la ejecución de las leyes norteamericanas de inmigración, nacionalidad y otras más. Copias certificadas de tales registros se pueden poner a la disposición de los tribunales siempre y cuando estos certifiquen que la información ahí encontrada es indispensable en el juicio.'; delayToolTip(event,tip,widetip,0,140);return false" onmouseout="hideToolTip()">
<span id="ctl00_SiteContentPlaceHolder_FormView1_lblPaperworkReductionNotice"><b>Confidentiality Statement</b><br/>
The information asked for on this form is requested pursuant to Section 222 of the Immigration and Nationality Act. INA Section 222(f) provides that the records of the Department of State and of diplomatic and consular offices of the United States pertaining to the issuance and refusal of visas or permits to enter the United States shall be considered confidential and shall be used only for the formulation, amendment, administration, or enforcement of the immigration, nationality, and other laws of the United States. Certified copies of such records may be made available to a court provided the court certifies that the information contained in such records is needed in a case pending before the court.</span>
</span>
</div>
<br/>
</div>
</td>
</tr>
</table>
        <div class="actions">
          <div class="actions-left">
            <span class="tag">Clon DS-160</span>
          </div>
          <div class="actions-right">
            <button type="button" class="secondary" id="downloadJsonBtn">Descargar JSON</button>
            <button type="submit" class="primary" id="nextBtn">Siguiente</button>
          </div>
        </div>
      </form>
    </div>
  </div>


<script type="text/javascript">
(function() {
    function noop() { return true; }

    if (typeof window.setDirty === 'undefined') {
        window.setDirty = function () {};
    }

    if (typeof window.ShowHideDiv === 'undefined') {
        window.ShowHideDiv = function (id, mode) {
            var el = document.getElementById(id);
            if (!el) return;
            var show = true;
            if (typeof mode !== 'undefined') {
                if (mode === 'off' || mode === false || mode === 0) {
                    show = false;
                } else if (mode === 'on' || mode === true || mode === 1) {
                    show = true;
                }
            }
            el.style.display = show ? '' : 'none';
        };
    }

    if (typeof window.ValidNavigationSelect === 'undefined') {
        window.ValidNavigationSelect = noop;
    }
    if (typeof window.confirmExitPage === 'undefined') {
        window.confirmExitPage = noop;
    }
    if (typeof window.CheckNodeClicked === 'undefined') {
        window.CheckNodeClicked = function() {};
    }
    if (typeof window.CheckDirty === 'undefined') {
        window.CheckDirty = noop;
    }
    if (typeof window.Navigate === 'undefined') {
        window.Navigate = noop;
    }
    if (typeof window.LimitInput === 'undefined') {
        window.LimitInput = function() {};
    }
    if (typeof window.doPaste === 'undefined') {
        window.doPaste = function() {};
    }
    if (typeof window.delayToolTip === 'undefined') {
        window.delayToolTip = function() {};
    }
    if (typeof window.hideToolTip === 'undefined') {
        window.hideToolTip = function() {};
    }
    if (typeof window.__doPostBack === 'undefined') {
        window.__doPostBack = function() {};
    }
})();
</script>


<script type="text/javascript">
(function(){
  const FORM_ID = 'ds160-help';
  const STORAGE_PREFIX = 'ds160:';
  const JSON_KEY = STORAGE_PREFIX + FORM_ID + ':json';
  const JSON_FILENAME = 'ds160-help.json';

  function storageKey(field){
    const idOrName = field.type === 'radio' ? field.name : (field.id || field.name);
    return STORAGE_PREFIX + FORM_ID + ':' + idOrName;
  }
  function saveField(field){
    try{
      if(field.type === 'radio'){
        if(field.checked) localStorage.setItem(storageKey(field), field.value);
      }else if(field.type === 'checkbox'){
        localStorage.setItem(storageKey(field), field.checked ? '1' : '0');
      }else{
        localStorage.setItem(storageKey(field), field.value);
      }
    }catch(e){}
  }
  function restoreField(field){
    try{
      const key = storageKey(field);
      const v = localStorage.getItem(key);
      if(v == null) return;
      if(field.type === 'radio'){
        field.checked = (field.value === v);
      }else if(field.type === 'checkbox'){
        field.checked = (v === '1');
      }else{
        field.value = v;
      }
    }catch(e){}
  }
  function autosave(form){
    form.addEventListener('input',(e)=>{
      const t=e.target;
      if(!t || !(t instanceof HTMLElement))return;
      if(t.matches('input,select,textarea')) saveField(t);
    },true);
    form.addEventListener('change',(e)=>{
      const t=e.target;
      if(!t || !(t instanceof HTMLElement))return;
      if(t.matches('input,select,textarea')) saveField(t);
    },true);
  }

  function collectFormData(form){
    const data = {};
    const radioHandled = new Set();
    const elements = Array.from(form.elements).filter(el => el.name || el.id);

    elements.forEach(el => {
      const key = el.name || el.id;
      if(!key) return;
      if(el.type === 'radio'){
        if(radioHandled.has(key)) return;
        radioHandled.add(key);
        const checked = form.querySelector('input[type="radio"][name="' + CSS.escape(key) + '"]:checked');
        data[key] = checked ? checked.value : null;
      }else if(el.type === 'checkbox'){
        data[key] = !!el.checked;
      }else{
        data[key] = el.value;
      }
    });
    return data;
  }

  function downloadJson(filename, jsonStr){
    try{
      const blob = new Blob([jsonStr], {type: 'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }catch(e){ console.error(e); }
  }

  function exportJson(form, doDownload){
    const fields = collectFormData(form);
    const payload = {
      page: document.title || FORM_ID,
      formId: FORM_ID,
      generatedAt: new Date().toISOString(),
      fields: fields
    };
        if (typeof google !== 'undefined' && google.script && google.script.run) {
      try {
        google.script.run.saveFormData(payload);
      } catch(e) {}
    }

const jsonStr = JSON.stringify(payload, null, 2);
    try {
      localStorage.setItem(JSON_KEY, jsonStr);
    } catch(e) {}
    if(doDownload) downloadJson(JSON_FILENAME, jsonStr);
  }

  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById(FORM_ID);
    if(!form) return;

    form.querySelectorAll('input,select,textarea').forEach(restoreField);
    autosave(form);

    const dlBtn = document.getElementById('downloadJsonBtn');
    if(dlBtn){
      dlBtn.addEventListener('click', () => {
        exportJson(form, true);
      });
    }

    form.addEventListener('submit', (ev) => {
      ev.preventDefault();
      if(!form.checkValidity()){
        form.reportValidity();
        const firstInvalid = form.querySelector(':invalid');
        if(firstInvalid) firstInvalid.scrollIntoView({behavior:'smooth', block:'center'});
        return;
      }
      exportJson(form, true);
    });
  });
})();
</script>

</body>
</html>
